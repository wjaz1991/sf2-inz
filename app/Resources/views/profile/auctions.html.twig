{% extends 'profile/profile_layout.html.twig' %}

{% block profile_page_content %}
    <h2>List of your auctions</h2>
    
    <ul class="list-group profile-auctions-list">
    {% for auction in auctions %}
        {% set images_count = auction.images | length %}
        <li class="list-group-item col-md-12">
            {% if images_count > 0 %}
            <div class="col-md-3">
                <img class="prof-auction-img" src="{{ auction.getFirstImage }}">
            </div>
            <div class="col-md-6">
            {% else %}
            <div class="col-md-9">
            {% endif %}
            
                <p class="prof-auction-title">{{ auction.title }}</p>
                <p class="prof-auction-dates">
                    Started on: {{ auction.startDate | date('Y-m-d H:i:s') }},
                    ends on {{ auction.endDate | date('Y-m-d H:i:s') }}
                </p>
                <p class="prof-auction-days">{{ auction.getDaysLeft }}</p>
                <p class="prof-auction-price">{{ auction.price }}</p>
                <p class="prof-auction-bids">{{ auction.bids | length }}</p>
            </div>
            <div class="col-md-3 auction-buttons">
                <a href="{{ path('auction_edit', {'id': auction.id }) }}">
                    <button class="btn btn-default btn-custom-red">Edit</button>
                </a>
                <a href="{{ path('auction_delete', {'auction': auction.id }) }}">
                    <button class="btn btn-default btn-custom-red">Delete</button>
                </a>
            </div>
        </li>
    {% else %}
        <div class="col-md-12">
            <h3>You have no auctions yet.</h3>
        </div>
    {% endfor %}
    </ul>
        
{% endblock %}